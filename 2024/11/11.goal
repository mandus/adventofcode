#!/usr/bin/env goal
fn:"input.txt"
(2=#ARGS) and fn:ARGS@1
l:"v"$'*=-read fn
f:{?[~x;1;2!(m:&"s"$x);2024*x;"i"$"n"$(0;(m%2))_"s"$x]}
say "p1",#l{[x;y],/f'x}/!25

/ for p2, we work on a dictionary since we then can add and multiply on the values
grp:{and["i"=@x;x:,x]; (?x)!#'=(!#x)!%x} / group by value/count; make sure we work on a list
say "p2",+/.(grp l){[d;i] +/{(n;c):x; c*grp f n}'+(!d;.d)}/!75 / just sum the counts

